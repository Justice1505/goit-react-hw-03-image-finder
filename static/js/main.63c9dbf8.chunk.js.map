{"version":3,"sources":["Components/searchbar/Searchbar.js","services/ApiServices.js","Components/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/modal/Modal.js","Components/button/Button.js","Components/loader/Loader.js","Components/App.js","index.js"],"names":["Searchbar","state","find","handleSearchForm","e","preventDefault","props","onSubmit","setState","handleInputChange","target","value","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","BASE_URL","API_KEY","getPhoto","findPicture","page","axios","get","then","res","data","ImageGalleryItem","image","largeImg","onPictureOpen","onClick","src","alt","ImageGallery","gallery","console","log","map","hit","webformatURL","largeImageURL","id","modal","document","querySelector","Modal","onEsc","code","onClose","onBackdrop","currentTarget","window","addEventListener","removeEventListener","createPortal","largeImage","Button","App","color","height","width","timeout","React","total","showModal","isLoading","makeGallery","hits","prevState","scroll","alert","catch","error","message","finally","onFormSubmit","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prev","showBtnLoadMore","Math","ceil","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.63c9dbf8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    find: '',\n  };\n\n  handleSearchForm = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.find);\n    this.setState({ find: '' });\n  };\n\n  handleInputChange = e => {\n    this.setState({ find: e.target.value });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSearchForm}>\n          <button\n            type=\"submit\"\n            className=\"SearchForm-button\"\n            // onSubmit={this.handleSearchForm}\n          >\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n            value={this.state.find}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23745072-b1ce4d1935f2990f41ff03e07\";\n\nexport const getPhoto = (findPicture, page = 1) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${findPicture}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((res) => res.data);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ image, largeImg, onPictureOpen }) => {\n  // console.log('GalItem', image);\n  // console.log('GalItemFunc', onPictureOpen);\n  return (\n    <li\n      className=\"ImageGalleryItem\"\n      onClick={() => {\n        onPictureOpen(largeImg);\n      }}\n    >\n      <img src={image} alt=\"#\" className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ gallery, onPictureOpen }) => {\n  console.log('ImgG', gallery);\n\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map(hit => (\n        <ImageGalleryItem\n          key={hit.id}\n          image={hit.webformatURL}\n          largeImg={hit.largeImageURL}\n          onPictureOpen={onPictureOpen}\n        />\n      ))}\n\n      {/* {gallery.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          image={image}\n          onPictureOpen={onPictureOpen}\n        />\n      ))} */}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modal = document.querySelector(\"#modal\");\n\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onEsc);\n  }\n\n  onEsc = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.onBackdrop}>\n        <div className=\"Modal\">\n          <img src={this.props.largeImage} alt=\"#\" />\n        </div>\n      </div>,\n      modal\n    );\n  }\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  largeImage: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ getPhoto }) => {\n  return (\n    <button type=\"button\" onClick={getPhoto} className=\"Button\">\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  getPhoto: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default class App extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={70}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Searchbar from './searchbar/Searchbar';\nimport { getPhoto } from '../services/ApiServices';\nimport ImageGallery from './imageGallery/ImageGallery';\nimport Modal from './modal/Modal';\nimport Button from './button/Button';\nimport Loader from './loader/Loader';\n\nclass App extends Component {\n  state = {\n    find: '',\n    gallery: [],\n    page: 1,\n    total: 0,\n    largeImageURL: {},\n    showModal: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.find !== this.state.find) {\n      this.setState({\n        gallery: [],\n        // page: 1,\n      });\n      this.makeGallery();\n      return;\n    }\n    // if (prevState.find === this.state.find) {\n    //   this.makeGallery();\n    // }\n  }\n\n  makeGallery = () => {\n    const { find, page } = this.state;\n    this.setState({ isLoading: true });\n\n    getPhoto(find, page)\n      .then(({ hits, total }) => {\n        console.log('hit', hits);\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...hits],\n          page: prevState.page + 1,\n          total,\n        }));\n        if (page !== 1) {\n          this.scroll();\n        }\n\n        console.log('state', this.state.gallery);\n        if (total === 0) {\n          alert('There are no pictures');\n        }\n      })\n      .catch(error => alert(error.message))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onFormSubmit = find => {\n    this.setState({ find, page: 1 });\n    // this.makeGallery();\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(prev => ({\n      showModal: !prev.showModal,\n    }));\n  };\n\n  showBtnLoadMore = () => {\n    return Math.ceil(this.state.total / 12) !== this.state.page - 1;\n  };\n\n  onPictureOpen = largeImage => {\n    this.setState({ largeImageURL: largeImage });\n    this.toggleModal();\n  };\n\n  // onLoadMore = () => {\n  //   this.setState(prevState => ({ page: prevState.page + 1 }));\n  // };\n\n  render() {\n    const { gallery, showModal, largeImageURL, isLoading, total } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onFormSubmit} />\n\n        {console.log('render', gallery)}\n        {gallery.length !== 0 && (\n          <ImageGallery gallery={gallery} onPictureOpen={this.onPictureOpen} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImage={largeImageURL} />\n        )}\n        {isLoading && <Loader />}\n        {this.showBtnLoadMore() && total !== 0 && (\n          <Button getPhoto={this.makeGallery} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css';\nimport './styles.css/styles.css';\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}