{"version":3,"sources":["Components/imageGalleryItem/Image.module.css","Components/modal/Modal.module.css","Components/imageGallery/ImageGallery.module.css","Components/button/Button.module.css","Components/searchbar/Searchbar.js","services/ApiServices.js","Components/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/modal/Modal.js","Components/button/Button.js","Components/loader/Loader.js","App.js","index.js","Components/searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","find","handleSearchForm","e","preventDefault","props","onSubmit","setState","handleInputChange","target","value","className","s","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","BASE_URL","API_KEY","getPhoto","findPicture","page","axios","get","then","res","data","ImageGalleryItem","image","largeImg","onPictureOpen","onClick","src","alt","ImageGalleryItem_image","ImageGallery","gallery","map","hit","webformatURL","largeImageURL","id","modal","document","querySelector","console","log","Modal","onEsc","code","onClose","onBackdrop","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","largeImage","Button","App","color","height","width","timeout","React","total","showModal","isLoading","makeGallery","hits","prevState","scroll","alert","catch","error","message","finally","onFormSubmit","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prev","showBtnLoadMore","Math","ceil","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d4356a4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"Image_ImageGalleryItem__9SYjY\",\"ImageGalleryItem_image\":\"Image_ImageGalleryItem_image__cUm5e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1maBE\",\"Modal\":\"Modal_Modal__2t_sZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2J_gj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1uRIB\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\nclass Searchbar extends Component {\n  state = {\n    find: \"\",\n  };\n\n  handleSearchForm = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.find);\n    this.setState({ find: \"\" });\n  };\n\n  handleInputChange = (e) => {\n    this.setState({ find: e.target.value });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSearchForm}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n            value={this.state.find}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23745072-b1ce4d1935f2990f41ff03e07\";\n\nexport const getPhoto = (findPicture, page = 1) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${findPicture}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((res) => res.data);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Image.module.css\";\n\nconst ImageGalleryItem = ({ image, largeImg, onPictureOpen }) => {\n  return (\n    <li\n      className={s.ImageGalleryItem}\n      onClick={() => {\n        onPictureOpen(largeImg);\n      }}\n    >\n      <img src={image} alt=\"#\" className={s.ImageGalleryItem_image} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\nconst ImageGallery = ({ gallery, onPictureOpen }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {gallery.map((hit) => (\n        <ImageGalleryItem\n          key={hit.id}\n          image={hit.webformatURL}\n          largeImg={hit.largeImageURL}\n          onPictureOpen={onPictureOpen}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\nconst modal = document.querySelector(\"#modal\");\nconsole.log(modal);\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onEsc);\n  }\n\n  onEsc = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.onBackdrop}>\n        <div className={s.Modal}>\n          <img src={this.props.largeImage} alt=\"#\" />\n        </div>\n      </div>,\n      modal\n    );\n  }\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  largeImage: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\nconst Button = ({ getPhoto }) => {\n  return (\n    <button type=\"button\" onClick={getPhoto} className={s.Button}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  getPhoto: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <Loader\n        type=\"ThreeDots\"\n        color=\"black\"\n        height={70}\n        width={100}\n        timeout={3000}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Searchbar from \"./Components/searchbar/Searchbar\";\nimport { getPhoto } from \"./services/ApiServices\";\nimport ImageGallery from \"./Components/imageGallery/ImageGallery\";\nimport Modal from \"./Components/modal/Modal\";\nimport Button from \"./Components/button/Button\";\nimport Loader from \"./Components/loader/Loader\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    find: \"\",\n    gallery: [],\n    page: 1,\n    total: 0,\n    largeImageURL: {},\n    showModal: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.find !== this.state.find) {\n      this.setState({\n        gallery: [],\n      });\n      this.makeGallery();\n      return;\n    }\n  }\n\n  makeGallery = () => {\n    const { find, page } = this.state;\n    this.setState({ isLoading: true });\n\n    getPhoto(find, page)\n      .then(({ hits, total }) => {\n        console.log(\"hit\", hits);\n        this.setState((prevState) => ({\n          gallery: [...prevState.gallery, ...hits],\n          page: prevState.page + 1,\n          total,\n        }));\n        if (page !== 1) {\n          this.scroll();\n        }\n\n        console.log(\"state\", this.state.gallery);\n        if (total === 0) {\n          alert(\"There are no pictures\");\n        }\n      })\n      .catch((error) => alert(error.message))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onFormSubmit = (find) => {\n    this.setState({ find, page: 1 });\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  toggleModal = () => {\n    this.setState((prev) => ({\n      showModal: !prev.showModal,\n    }));\n  };\n\n  showBtnLoadMore = () => {\n    return Math.ceil(this.state.total / 12) !== this.state.page - 1;\n  };\n\n  onPictureOpen = (largeImage) => {\n    this.setState({ largeImageURL: largeImage });\n    this.toggleModal();\n  };\n\n  render() {\n    const { gallery, showModal, largeImageURL, isLoading, total } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onFormSubmit} />\n\n        {console.log(\"render\", gallery)}\n        {gallery.length !== 0 && (\n          <ImageGallery gallery={gallery} onPictureOpen={this.onPictureOpen} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImage={largeImageURL} />\n        )}\n        {isLoading && <Loader />}\n        {this.showBtnLoadMore() && total !== 0 && (\n          <Button getPhoto={this.makeGallery} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1t-VK\",\"SearchForm\":\"Searchbar_SearchForm__372O8\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2qDqz\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2YAGz\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3B5XP\"};"],"sourceRoot":""}